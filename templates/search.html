<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Go Geolocation</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
  <h1>Search</h1>

  <p>Demo of Google locations autocomplete</p>

  <br>
  <input type="search" id="txtPlaces"  onfocus="value = ''"/>

  </body>


  <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyBKz2rPCqEm4XguOun_Jn8Ts4EOFSoT9MU&libraries=places"></script>
  
  <script>
    google.maps.event.addDomListener(window, 'load', function () {
        var places = new google.maps.places.Autocomplete(document.getElementById('txtPlaces'));
        google.maps.event.addListener(places, 'place_changed', function () {
            var place = places.getPlace();
            // var address = place.formatted_address;
            var location = place.geometry.location;
            var lat = location.lat();
            var lon = location.lng();
   
            var url = "/location/"+lat+"/"+lon;
            window.location.replace(url);
        });
    });
  </script>
</html>